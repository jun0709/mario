<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Game</title>

    <link rel="stylesheet" href="./css/banner.css">
    <link rel="stylesheet" href="./css/game.css">
    <link rel="stylesheet" href="./css/footer.css">
    
    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
</head>

<body>
    <div id="wrap">
        <div class="banner_box">
            <div class="item item0"></div>
            <div class="item item1"></div>
            <div class="item item2"></div>
            <div class="item item3"></div>
            <div class="item item4"></div>
            <div class="item item5"></div>
            <div class="item item6"></div>
            <div class="main_banner_img"> 
                <input type="button" class="btn_item btn_item_L" value="">
            <input type="button" class="btn_item btn_item_R" value="">
            </div>
            
        </div>

        <div class="main">
            <div class="move_bg0">
                <div class="move_bg_img0"></div>
            </div>
            <div class="move_bg1">
                <div class="move_bg_img1"></div>
            </div>
            <div class="move_bg2">
                <div class="move_bg_img2"></div>
            </div>
            <div class="game">
                <div class="game_h1"><i>GAMES</i></div>
                    <div class="game_sec">
                        <div class="game_box">
                            <div class="game_box_img gbi"></div>
                            <div class="game_box_p">
                                <h2>마리오 + 래비드 반짝이는 희망</h2>
                                <h4>적을 무찌르고 스파키 친구들도 구해 주세요.</h4>
                                <h5>발매일 : 2022년 10월 22일</h5>
                            </div>
                        </div>
                        <div class="game_box">
                            <div class="game_box0_img gbi"></div>
                            <div class="game_box_p">
                                <h2>마리오 스트라이커즈 배틀 리그</h2>
                                <h4>『격투기』X『축구』규칙이 없는 새로운 스포츠</h4>
                                <h5>발매일 : 2022년 06월 10일</h5>
                            </div>
                        </div>
                        <div class="game_box">
                            <div class="game_box1_img gbi"></div>
                            <div class="game_box_p">
                                <h2>마리오 파티 슈퍼스타즈</h2>
                                <h4>마리오 파티만의 즐거움 가득 보드게임, 미니게임</h4>
                                <h5>발매일 : 2021년 10월 29일</h5>
                            </div>
                        </div>
                        <div class="game_box">
                            <div class="game_box2_img gbi"></div>
                            <div class="game_box_p">
                                <h2>마리오 골프 슈퍼러쉬</h2>
                                <h4>라이벌에 대한 전략이 승부의 열쇠가 된다</h4>
                                <h5>발매일 : 2021년 06월 25일</h5>
                            </div>
                        </div>
                        <div class="game_box">
                            <div class="game_box3_img gbi"></div>
                            <div class="game_box_p">
                                <h2>슈퍼마리오 3D 월드 + 퓨리 월드</h2>
                                <h4>다양한 장치, 목표는 골에 있는 깃발 / </h4>
                                <h5>발매일 : 2021년 02월 12일</h5>
                            </div>
                        </div>
                        <div class="game_box">
                            <div class="game_box4_img gbi"></div>               
                            <div class="game_box_p">
                            <h2>마리오 카트 라이브: 홈 서킷</h2>
                            <h4>실제와 게임이 연동된 새로운 마리오 카트</h4>
                            <h5>발매일 : 2020년 12월 17일</h5>
                            </div>
                        </div>
                        <div class="game_box">
                            <div class="game_box5_img gbi"></div>
                            <div class="game_box_p">
                                <h2>슈퍼마리오 3D 컬렉션</h2>
                                <h4>세 개의 마리오 게임이 하나로</h4>
                                <h5>발매일 : 2020년 09월 18일</h5>
                            </div>
                        </div>
                        <div class="game_box">
                            <div class="game_box6_img gbi"></div>
                            <div class="game_box_p">
                                <h2>페이퍼 마리오 종이접기 킹</h2>
                                <h4>팔랑팔랑한 세계에 다가오는 종이인형의 야망</h4>
                                <h5>발매일 : 2020년 07월 17일</h5>
                            </div>
                        </div>
                        <div class="game_box">
                            <div class="game_box7_img gbi"></div>
                            <div class="game_box_p">
                                <h2>슈퍼 마리오 메이커 2</h2>
                                <h4>만들자! 플레이하자! 모두함께 마리오</h4>
                                <h5>발매일 : 2019년 06월 28일</h5>
                            </div>
                        </div>
                        <div class="game_box">
                            <div class="game_box8_img gbi"></div>
                            <div class="game_box_p">
                                <h2>뉴 슈퍼 마리오브라더스 U 디럭스</h2>
                                <h4>언제, 어디서든, 누구와도!</h4>
                                <h5>발매일 : 2019년 1월 11일</h5>
                            </div>
                        </div>
                </div>
            </div>
            
            <div class="comming">
                <div class="comming_h1"><i>COMMING SOON</i></div>
                <div class="comming_sec">
                    <div class="comming_box">
                        <div class="comming_box0_img cbi"></div>
                        <div class="comming_box_p">
                            <h2>마리오 vs. 동키콩</h2>
                            <h4>언제, 어디서든, 누구와도!</h4>
                            <h5>발매일 : 2024년 2월 16일</h5>
                        </div>
                    </div>
                    <div class="comming_box">
                        <div class="comming_box1_img cbi"></div>
                        <div class="comming_box_p">
                            <h2>슈퍼 마리오 RPG</h2>
                            <h4>마리오와 동료들의 모험이 다시.
                                마리오 시리즈 최초의 RPG가 지금 부활.</h4>
                            <h5>발매일 : 2023년 11월 17일</h5>
                        </div>
                    </div>
                    <div class="comming_box">
                        <div class="comming_box2_img cbi"></div>
                        <div class="comming_box_p">
                            <h2>Super Mario Bros. Wonder(슈퍼 마리오브라더스 원더)</h2>
                            <h4>마리오와 동료들이 원더의 세계로</h4>
                            <h5>발매일 : 2023년 10월 20일</h5>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="footer">
            <div class="footer_nav">
                <div class="dong do1"></div>
                <div class="dong do2"></div>
                <div class="dong do3"></div>
                <div class="dong do4"></div>
                <ul class="footer_nav_ul">
                    <li class="footer_nav_li ">
                        <a class="footer_nav_a" href="game.html">
                            <img src="./img/느낌표.png" alt="">
                            <p class="footer_nav_p">GAME</p>
                        </a>
                    </li>
                    <li class="footer_nav_li ">
                        <a class="footer_nav_a" href="story.html">
                            <img src="./img/느낌표.png" alt="">
                            <p class="footer_nav_p">STORY</p>
                        </a>
                    </li>
                    <li class="footer_nav_li ">
                        <a class="footer_nav_a" href="shop.html">
                            <img src="./img/느낌표.png" alt="">
                            <p class="footer_nav_p">SHOP</p>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    <script>
       

        $(document).ready(function () {

            let item_size = $('.item').eq(0).outerWidth()+50;
            let item_length = $('.item').length;

            let fist_pos = 0;
            let last_pos = 0;

            function pos_init() {
                let b_center = $('.main_banner_img').offset().left + ($('.main_banner_img').width() / 2);
                let base_pos = b_center - (item_size / 2)

                console.log(b_center)
                // console.log($('.main_banner_img').width() / 2)
                let half_lenfth = Math.floor(item_length / 2);
                // for(let i=half_lenfth; i<(item_length+half_lenfth); i++) {
                for (let i = half_lenfth; i < (item_length); i++) {
                    $('.item').eq(i % item_length).css({
                        left: base_pos + (item_size * (i - half_lenfth))
                    })
                    last_pos = base_pos + (item_size * (i - half_lenfth))
                }
                console.log("last_pos: " + last_pos)

                // let asdf = 1;
                for (let i = half_lenfth - 1; i >= 0; i--) {
                    console.log(i % item_length)
                    $('.item').eq(i % item_length).css({
                        // left: base_pos - (item_size * asdf++ )
                        left: base_pos - (item_size * Math.abs(i - 1 - 2))
                        // 2, 0
                        // 1, 1
                        // 0, 2
                    })
                    fist_pos = base_pos - (item_size * Math.abs(i - 1 - 2))
                }
                console.log("fist_pos: " + fist_pos)
            }
            pos_init();

            $(window).resize(function () {
                pos_init();
                bang_no = 0
            })


            let bang_bn_count = $('.item').length;
            for (let i = 0; i < bang_bn_count; i++) {
                $('.bang_indi').append(`<div class="bang_circle"></div>`)
            }
            $('.bang_circle').eq(0).addClass('bang_circle_active')

            let bang_timer =300;
            let bang_no = 0
            $(document).on('click', '.btn_item_R', function () {
                prevent_btn_slide()


                $('.item').animate({
                    left: `-=${item_size}px`
                }, bang_timer, 'linear')


                $('.item').eq(bang_no % item_length).animate({
                    // left: item_size * (item_length - 1)
                    left: last_pos
                }, 0)


                bang_no += 1;


                indi_color_chk((bang_no) % item_length);
            })
            $(document).on('click', '.btn_item_L', function () {
                prevent_btn_slide()

                bang_no -= 1;

                console.log(fist_pos)
                $('.item').eq((bang_no) % item_length).animate({
                    // left: item_size * -1
                    left: fist_pos - item_size
                }, 0)

                // 전체 item 들 200씩 오른쪽으로 이동
                $('.item').animate({
                    left: `+=${item_size}px`
                }, bang_timer, 'linear')


                // $('.bang_circle').removeClass('bang_circle_active')
                // $('.bang_circle').eq((bang_no)%item_length).addClass('bang_circle_active')
                indi_color_chk((bang_no) % item_length);
            })






            let bang_interval;
            function bang_slide() {
                bang_interval = setInterval(function () {
                    $('.btn_item_R').trigger('click')
                }, bang_timer + 1000);
            }
            bang_slide()

            $('.banner_box').hover(function () {
                clearInterval(bang_interval);
            }, function () {
                bang_slide()
            });

            // 버튼막기 
            function prevent_btn_slide() {
                // 버튼 막기
                $('.btn_item').css({ pointerEvents: 'none' })
                setTimeout(function () {
                    $('.btn_item').css({ pointerEvents: 'auto' })
                }, bang_timer)
            }
           
            let sec1_o_top = $('.game_h1').offset().top;
        let sec2_o_top = $('.game_box2_img').offset().top;
        let sec3_o_top = $('.game_box4_img').offset().top;
    $(window).scroll(function(){
        let s_top = $(window).scrollTop();
        if(sec1_o_top <= s_top) {
            $('.move_bg0').css({
                right: '-10%',
                top:'15%',
                transform: 'translate(50%, -50%)'
                // background: 'red'
            })
            // setTimeout(function(){
            //     $('.move_bg').css({
            //         background: 'red'
            //     })
            // }, 500);
        }
        else {
            $('.move_bg0').css({
                right: '-100%',
                transform: 'translate(0%, -50%)',
                // background: 'blue'
            })
            // setTimeout(function(){
            //     $('.move_bg').css({
            //         background: 'blue'
            //     })
            // }, 500);
        }
        if(sec2_o_top <= s_top) {
            $('.move_bg1').css({
                left: '-50%',
                top:'35%',
                transform: 'translate(50%, -50%)'
                
                // background: 'red'
            })

            // setTimeout(function(){
            //     $('.move_bg').css({
            //         background: 'red'
            //     })
            // }, 500);
        }
        else {
            $('.move_bg1').css({
               left: '-100%',
                transform: 'translate(0%, -50%)',
                // background: 'blue'
            })
        
        }
         if(sec3_o_top <= s_top) {
            $('.move_bg2').css({
                right: '-10%',
                top:'60%',
                transform: 'translate(50%, -50%)'
                
                // background: 'red'
            })

            // setTimeout(function(){
            //     $('.move_bg').css({
            //         background: 'red'
            //     })
            // }, 500);
        }
        else {
            $('.move_bg2').css({
                right: '-100%',
                transform: 'translate(0%, -50%)',
                // background: 'blue'
            })
            // setTimeout(function(){
            //     $('.move_bg').css({
            //         background: 'blue'
            //     })
            // }, 500);
        }
    });

    
        });
        
   
    </script>
</body>

</html>